<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Эльзас и Лотарингия: Путеводитель в стиле Арт-нуво</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,400;1,700&family=Lora:ital,wght@1,400;1,500&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        art: { 
                            sage: '#7B8E7E', 
                            gold: '#C5A059', 
                            wine: '#8B4343', 
                            cream: '#FDFBF0', 
                            dark: '#2D3436',
                            border: '#D4B483'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { 
            background-color: #FDFBF0; 
            color: #2D3436; 
            font-family: 'Lora', serif;
            background-image: url("https://www.transparenttextures.com/patterns/natural-paper.png");
        }
        
        h1, h2, h3, h4, .nouveau-font { 
            font-family: 'Playfair Display', serif; 
            font-style: italic;
        }

        .nouveau-border { 
            border: 2px solid #C5A059; 
            border-radius: 60px 15px 60px 15px; 
            position: relative;
            background: rgba(255, 255, 255, 0.7);
        }

        .nouveau-border::before {
            content: "❧";
            position: absolute;
            top: 10px;
            left: 20px;
            color: #C5A059;
            font-size: 2rem;
        }

        .active-day { 
            background: #8B4343; 
            color: #FDFBF0 !important;
            border-radius: 30px 5px 30px 5px;
            box-shadow: 0 4px 15px rgba(139, 67, 67, 0.3);
        }

        .art-nouveau-frame { 
            padding: 20px; 
            background: #fff; 
            border: 1px solid #C5A059; 
            box-shadow: inset 0 0 15px rgba(197, 160, 89, 0.2);
            border-radius: 10px;
        }

        .img-container { 
            width: 100%; 
            aspect-ratio: 16 / 9; 
            background: #eee; 
            overflow: hidden; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            border-radius: 5px;
        }

        #day-list::-webkit-scrollbar { width: 4px; }
        #day-list::-webkit-scrollbar-track { background: transparent; }
        #day-list::-webkit-scrollbar-thumb { background: #C5A059; border-radius: 10px; }

        .ornament {
            color: #C5A059;
            text-align: center;
            font-size: 1.5rem;
            margin: 1rem 0;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.8s ease-out forwards; }
    </style>
</head>
<body class="flex flex-col min-h-screen italic">

    <header class="bg-art-dark text-art-cream py-10 border-b-4 border-art-gold text-center relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none">
            <svg width="100%" height="100%"><pattern id="pattern" x="0" y="0" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M0 50 Q 25 0 50 50 T 100 50" fill="none" stroke="#C5A059" stroke-width="2"/></pattern><rect width="100%" height="100%" fill="url(#pattern)"/></svg>
        </div>
        <h1 class="text-5xl md:text-6xl mb-2">Эльзас & Лотарингия</h1>
        <p class="uppercase tracking-[0.4em] text-sm text-art-gold">Историческая экспедиция • 20–29 Марта 2026</p>
    </header>

    <main class="flex-grow container mx-auto px-4 py-10 grid grid-cols-1 lg:grid-cols-12 gap-10">
        <aside class="lg:col-span-3">
            <div class="sticky top-10">
                <h3 class="text-art-wine text-2xl mb-6 border-b-2 border-art-gold/30 pb-2">Календарь</h3>
                <div id="day-list" class="space-y-3 max-h-[70vh] overflow-y-auto pr-4"></div>
            </div>
        </aside>

        <section class="lg:col-span-9">
            <div id="day-detail-view" class="nouveau-border p-8 md:p-12 shadow-2xl min-h-[700px]"></div>
        </section>
    </main>

    <footer class="py-10 text-center text-art-gold opacity-60 text-sm">
        <div class="ornament">❦ ————— ❧</div>
        <p>© 2026 Хроники Старой Европы</p>
    </footer>

    <script>
        // Использование JSDelivr CDN для лучшей совместимости с Android/iOS
        const GITHUB_USER = "bmai42195"; 
        const GITHUB_REPO = "Alsace-Lorraine"; 
        const GITHUB_BRANCH = "main"; 
        const GITHUB_BASE_URL = `https://cdn.jsdelivr.net/gh/${GITHUB_USER}/${GITHUB_REPO}@${GITHUB_BRANCH}/images/`;

        let currentDayId = 1;

        const itineraryData = [
            { 
                id: 1, imgNum: 12, date: "20 марта", title: "Штутгарт – Баден-Баден – Эпфиг", 
                history: "Выезд из Штутгарта. Первая остановка в Баден-Бадене — 'летней столице Европы'. Здесь русская аристократия и европейская знать создали уникальную атмосферу Belle Époque. Вечером — переезд в Эпфиг.", 
                points: [
                    {name: "Trinkhalle", details: "Питьевой павильон с 90-метровой колоннадой и фресками со шварцвальдскими легендами."},
                    {name: "Lichtentaler Allee", details: "Исторический парк вдоль реки Оос, созданный более 350 лет назад."},
                    {name: "Casino Baden-Baden", details: "Марлен Дитрих называла его самым красивым казино в мире."}
                ], 
                gastronomy: [
                    {type: "Обед", name: "Café König", desc: "Культовая кондитерская. Обязательно закажите Kirschtorte."},
                    {type: "Ужин", name: "Rizzi", desc: "Современная кухня в роскошном особняке с видом на Лихтенталер-аллее."}
                ], 
                shopping: "Косметика на термальной воде Sans Soucis, эксклюзивные ароматы.", 
                tips: "В Эпфиге рекомендуется вечерняя прогулка среди виноградников." 
            },
            { 
                id: 2, imgNum: 2, date: "21 марта", title: "Страсбург: Перекресток Европы", 
                history: "Вольный город империи. Здесь французский изыск встречается с немецкой основательностью. Кафедральный собор — 'розовое чудо' из вогезского песчаника.", 
                points: [
                    {name: "Cathédrale Notre-Dame", details: "В течение 200 лет был самым высоким зданием в мире. Внутри — уникальные астрономические часы."},
                    {name: "La Petite France", details: "Квартал кожевников с фахверковыми домами XVI-XVII веков."},
                    {name: "Barrage Vauban", details: "Плотина Вобана с панорамной террасой на 'Крытые мосты'."}
                ], 
                gastronomy: [
                    {type: "Обед", name: "Maison Kammerzell", desc: "Самый красивый дом города. Фирменное блюдо — Choucroute aux trois poissons."},
                    {type: "Винстуб", name: "Le Tire-Bouchon", desc: "Классический эльзасский уют и домашняя кухня."}
                ], 
                shopping: "Ремесленные сыры в лавке 'La Cloche à Fromage', эльзасский текстиль.", 
                tips: "Шоу астрономических часов в соборе начинается в 12:30." 
            },
            { 
                id: 3, imgNum: 3, date: "22 марта", title: "Верхний Кенигсбург и Оберне", 
                history: "Замок-крепость, восстановленный кайзером Вильгельмом II, как символ германского могущества на границе с Францией.", 
                points: [
                    {name: "Château du Haut-Koenigsbourg", details: "Величественный замок на высоте 757 метров с полной реконструкцией быта."},
                    {name: "Obernai Altstadt", details: "Один из немногих городов, сохранивших средневековый облик без изменений."},
                    {name: "Puits des Six Seaux", details: "Колодец 'Шести ведер' в стиле ренессанс."}
                ], 
                gastronomy: [
                    {type: "Обед", name: "Le Bistro des Saveurs", desc: "Изысканный ресторан в Оберне с акцентом на сезонные продукты."},
                    {type: "Традиции", name: "La Halle aux Blés", desc: "Расположен в здании бывшего зернохранилища."}
                ], 
                shopping: "Керамика из Бетшдорфа и Суффленайма (традиционные формы для бекеоффе).", 
                tips: "С донжона замка в ясную погоду видны Альпы." 
            },
            { 
                id: 4, imgNum: 4, date: "23 марта", title: "Нанси: Столица Арт-нуво", 
                history: "Город Станислава Лещинского и колыбель школы Нанси. Здесь зародился французский модерн, вдохновленный природой Лотарингии.", 
                points: [
                    {name: "Place Stanislas", details: "Входит в список ЮНЕСКО. Золоченые решетки Жана Ламура — шедевр рококо."},
                    {name: "Villa Majorelle", details: "Первый дом в Нанси, полностью спроектированный в стиле Арт-нуво."},
                    {name: "Musée de l'École de Nancy", details: "Музей в бывшем доме коллекционера Галле с уникальной мебелью и стеклом."}
                ], 
                gastronomy: [
                    {type: "Брассери", name: "L'Excelsior", desc: "Живой памятник эпохи модерна. Завтрак или обед здесь — обязательная часть программы."},
                    {type: "Сладости", name: "Maison des Sœurs Macarons", desc: "Здесь делают те самые оригинальные макароны Нанси."}
                ], 
                shopping: "Хрусталь Daum, бергамоты Нанси (легендарные леденцы).", 
                tips: "Ищите символ чертополоха на фасадах домов — это знак Лотарингии." 
            },
            { 
                id: 5, imgNum: 5, date: "24 марта", title: "Кольмар: Маленькая Венеция", 
                history: "Самый 'эльзасский' город Эльзаса. Родина Фредерика Бартольди, создателя Статуи Свободы.", 
                points: [
                    {name: "La Petite Venise", details: "Живописные каналы вдоль реки Лаух, по которым можно прокатиться на лодке."},
                    {name: "Maison des Têtes", details: "Дом Голов с 106 скульптурными масками на фасаде."},
                    {name: "Musée Unterlinden", details: "Расположен в бывшем монастыре, хранит Изенгеймский алтарь."}
                ], 
                gastronomy: [
                    {type: "Винстуб", name: "Aux Armes de Colmar", desc: "Традиционная атмосфера, отличный шукрут и пироги."},
                    {type: "Мишлен", name: "JY'S", desc: "Для тех, кто ищет современную высокую кухню в историческом декоре."}
                ], 
                shopping: "Вина Гран Крю, антиквариат на улочках старого города.", 
                tips: "Обязательно найдите копию Статуи Свободы на въезде в город." 
            },
            { 
                id: 6, imgNum: 10, date: "25 марта", title: "Вогезы: Синие тени гор", 
                history: "Горный массив, разделяющий Эльзас и Лотарингию. Край озер, лесов и 'линий фронта' Первой мировой войны.", 
                points: [
                    {name: "Lac de Gérardmer", details: "Самое большое озеро Вогез, окруженное хвойными лесами."},
                    {name: "Route des Crêtes", details: "Панорамная дорога, проложенная во время войны для снабжения войск."},
                    {name: "Hohneck", details: "Одна из самых высоких точек с видом на долину Рейна."}
                ], 
                gastronomy: [
                    {type: "Ферма", name: "Auberge du Schantzwasen", desc: "Традиционный фермерский обед (Repas Marcaire) с картофелем и сыром."},
                    {type: "Локально", name: "Le Grizzly", desc: "Уютное шале с видом на горы."}
                ], 
                shopping: "Деревянные игрушки, мед из вогезской пихты (Miel de Sapin).", 
                tips: "Температура в горах на 5-7 градусов ниже, чем в долине." 
            },
            { 
                id: 7, imgNum: 6, date: "26 марта", title: "Мец: Желтый камень и Шагал", 
                history: "Город, построенный из золотистого камня 'Jaumont'. Здесь соседствуют французская классика и немецкая имперская архитектура.", 
                points: [
                    {name: "Cathédrale Saint-Étienne", details: "Обладает самой большой площадью витражей в мире, включая работы Марка Шагала."},
                    {name: "Quartier Impérial", details: "Район вокруг вокзала, образец монументального немецкого стиля."},
                    {name: "Centre Pompidou-Metz", details: "Филиал парижского музея с футуристической крышей."}
                ], 
                gastronomy: [
                    {type: "Рынок", name: "Marché Couvert", desc: "Один из лучших крытых рынков Франции. Идеально для дегустации паштетов."},
                    {type: "Ужин", name: "El Theatris", desc: "Расположен в здании старейшего оперного театра Европы."}
                ], 
                shopping: "Сладости из мирабели (сливы — символ региона), ликеры и джемы.", 
                tips: "Витражи Шагала лучше всего смотреть в солнечный день утром." 
            },
            { 
                id: 8, imgNum: 7, date: "27 марта", title: "Риквир и Рибовилле", 
                history: "Две жемчужины Винной дороги. Риквир почти не пострадал в войнах и сохранил облик XVI века.", 
                points: [
                    {name: "Le Dolder", details: "Сторожевая башня в Риквире, символ города."},
                    {name: "Tour des Bouchers", details: "Башня Мясников в Рибовилле, разделяющая город на две части."},
                    {name: "Виноградники Шоненбург", details: "Склоны, дающие один из лучших Рислингов мира."}
                ], 
                gastronomy: [
                    {type: "Дегустация", name: "Maison Hugel", desc: "Легендарный винный дом в центре Риквира (с 1639 года)."},
                    {type: "Обед", name: "La Grappe d'Or", desc: "Уютный ресторан с террасой и отличным видом."}
                ], 
                shopping: "Вина Гевюрцтраминер, пасхальный декор (магазин Féerie de Noël).", 
                tips: "В Риквире зайдите во внутренние дворики фахверковых домов." 
            },
            { 
                id: 9, imgNum: 8, date: "28 марта", title: "Мон-Сент-Одиль", 
                history: "Духовное сердце Эльзаса. Монастырь на горе, основанный святой Одилией, покровительницей региона.", 
                points: [
                    {name: "Mur Païen", details: "Языческая стена — загадочное сооружение длиной 10 км из 300 000 каменных блоков."},
                    {name: "Source Sainte-Odile", details: "Чудотворный источник, вода из которого, по легенде, лечит болезни глаз."},
                    {name: "Terrasse du Couvent", details: "Смотровые площадки с видом на всю долину Рейна до Шварцвальда."}
                ], 
                gastronomy: [
                    {type: "Обед", name: "Hostellerie du Mont-Sainte-Odile", desc: "Ресторан при монастыре с панорамным видом."},
                    {type: "Пикник", name: "Le Kiosque", desc: "Простая еда и выпечка для прогулки по лесу."}
                ], 
                shopping: "Мед, монастырское печенье, иконы и четки.", 
                tips: "Прогулка вдоль Языческой стены требует удобной обови." 
            },
            { 
                id: 10, imgNum: 11, date: "29 марта", title: "Эпфиг – Генгенбах – Штутгарт", 
                history: "Прощание с Эльзасом. Возвращение в Германию через сказочный Генгенбах — город, который кажется декорацией к фильмам братьев Гримм.", 
                points: [
                    {name: "Gengenbach Rathaus", details: "Ратуша XVIII века. 24 окна фасада служат ставнями гигантского адвент-календаря."},
                    {name: "Engelgasse", details: "Самая тихая и живописная улица города с сохранившимся фахверком."},
                    {name: "Kinzigtal", details: "Живописная долина реки Кинциг."}
                ], 
                gastronomy: [
                    {type: "Обед", name: "Reichsstadt", desc: "Ресторан в старинном здании. Рекомендуем швабские шпецле и дичь."},
                    {type: "Кафе", name: "Café Altstadt", desc: "Традиционные немецкие пироги и отличный кофе."}
                ], 
                shopping: "Шварцвальдская ветчина, Kirschwasser (вишневая настойка).", 
                tips: "От Генгенбаха до Штутгарта около 80 минут езды. Хорошей дороги!" 
            }
        ];

        function renderDayList() {
            const list = document.getElementById('day-list');
            list.innerHTML = '';
            itineraryData.forEach((day) => {
                const div = document.createElement('div');
                const isActive = day.id === currentDayId;
                div.className = `p-5 cursor-pointer transition-all duration-300 border-b border-art-gold/20 ${isActive ? 'active-day scale-105' : 'bg-transparent text-art-dark hover:text-art-wine'}`;
                div.onclick = () => { currentDayId = day.id; renderDayList(); renderDayDetail(); };
                div.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div class="max-w-[85%]">
                            <span class="text-[10px] block opacity-70 uppercase tracking-tighter">${day.date}</span>
                            <span class="text-lg leading-tight nouveau-font">${day.title}</span>
                        </div>
                        <span class="text-2xl opacity-30">${isActive ? '❧' : '❦'}</span>
                    </div>
                `;
                list.appendChild(div);
            });
        }

        function renderDayDetail() {
            const day = itineraryData.find(d => d.id === currentDayId);
            if (!day) return;
            const view = document.getElementById('day-detail-view');
            // Используем прямой URL с кросс-доменной поддержкой
            const imageSrc = `${GITHUB_BASE_URL}${day.imgNum}.jpg`;

            view.innerHTML = `
                <div class="animate-fadeIn">
                    <div class="text-center mb-10">
                        <span class="text-art-gold text-sm tracking-[0.3em] uppercase">Глава ${day.id}</span>
                        <h2 class="text-3xl md:text-5xl text-art-wine my-4 leading-tight">${day.title}</h2>
                        <div class="ornament">❧ ——— ❦ ——— ❧</div>
                    </div>
                    <div class="art-nouveau-frame mb-12">
                        <div class="img-container">
                            <img src="${imageSrc}" 
                                 crossorigin="anonymous"
                                 onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" 
                                 class="w-full h-full object-cover" 
                                 alt="${day.title}">
                            <div class="hidden flex-col items-center justify-center p-10 text-art-gold text-center">
                                <span class="text-4xl mb-2">❦</span>
                                <p class="text-sm italic">Изображение <strong>${day.imgNum}.jpg</strong> не загрузилось.</p>
                                <p class="text-[10px] mt-2 opacity-50">Проверьте подключение или путь в репозитории.</p>
                            </div>
                        </div>
                    </div>
                    <div class="grid md:grid-cols-2 gap-12">
                        <div class="space-y-10">
                            <section>
                                <h4 class="text-3xl text-art-dark border-b-2 border-art-gold/30 pb-2 mb-4">Хроника</h4>
                                <p class="text-art-dark/90 italic text-lg border-l-4 border-art-gold pl-4 bg-art-gold/5 py-4 leading-relaxed">${day.history}</p>
                            </section>
                            <section>
                                <h4 class="text-3xl text-art-dark border-b-2 border-art-gold/30 pb-2 mb-4">Наследие</h4>
                                ${day.points.map(p => `<div class="mb-6"><h5 class="text-art-wine font-bold">❧ ${p.name}</h5><p class="text-sm text-gray-700 mt-1">${p.details}</p></div>`).join('')}
                            </section>
                        </div>
                        <div class="space-y-10">
                            <div class="bg-white p-8 rounded-lg border-2 border-art-gold/20 shadow-inner">
                                <h4 class="text-3xl mb-6">Гастрономия</h4>
                                ${day.gastronomy.map(g => `<div class="mb-4"><span class="text-[10px] text-art-gold uppercase tracking-widest block mb-1">${g.type}</span><h5 class="font-bold text-art-wine italic">${g.name}</h5><p class="text-xs italic text-gray-600 mt-1">${g.desc}</p></div>`).join('')}
                            </div>
                            <div class="p-4">
                                <h4 class="text-2xl text-art-dark border-b-2 border-art-gold/30 pb-2 mb-4">Лавки</h4>
                                <p class="text-art-dark/80 italic leading-relaxed">❧ ${day.shopping}</p>
                                <div class="mt-8 pt-6 border-t border-art-gold/40 text-sm italic text-art-sage">
                                    <strong>Совет историка:</strong> ${day.tips}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        window.onload = () => { renderDayList(); renderDayDetail(); };
    </script>
</body>
</html>