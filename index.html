<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Эльзас и Лотарингия: Глубокое Наследие</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,400;1,700&family=Lora:ital,wght@1,400;1,500&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        art: { 
                            sage: '#7B8E7E', 
                            gold: '#C5A059', 
                            wine: '#8B4343', 
                            cream: '#FDFBF0', 
                            dark: '#2D3436',
                            border: '#D4B483'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { 
            background-color: #FDFBF0; 
            color: #2D3436; 
            font-family: 'Lora', serif;
            background-image: url("https://www.transparenttextures.com/patterns/natural-paper.png");
        }
        
        h1, h2, h3, h4, .nouveau-font { 
            font-family: 'Playfair Display', serif; 
            font-style: italic;
        }

        .nouveau-border { 
            border: 2px solid #C5A059; 
            border-radius: 40px 10px 40px 10px; 
            position: relative;
            background: rgba(255, 255, 255, 0.9);
        }

        .active-day { 
            background: #8B4343; 
            color: #FDFBF0 !important;
            border-radius: 20px 4px 20px 4px;
        }

        .img-container { 
            width: 100%; 
            aspect-ratio: 16 / 9; 
            background: #e5e7eb; 
            overflow: hidden; 
            border-radius: 8px;
            margin-bottom: 2rem;
            border: 1px solid #C5A059;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .gastronomy-icon {
            width: 32px;
            height: 32px;
            fill: #C5A059;
            margin-bottom: 4px;
            opacity: 0.8;
        }

        .heritage-text {
            font-family: 'Lora', serif;
            line-height: 1.8;
        }

        #day-list::-webkit-scrollbar { width: 4px; }
        #day-list::-webkit-scrollbar-thumb { background: #C5A059; border-radius: 10px; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.6s ease-out forwards; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <header class="bg-art-dark text-art-cream py-8 border-b-4 border-art-gold text-center">
        <h1 class="text-3xl md:text-5xl mb-1">Эльзас & Лотарингия</h1>
        <p class="uppercase tracking-[0.3em] text-[10px] text-art-gold italic">Экспедиция по замкам, садам и истории</p>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8 grid grid-cols-1 lg:grid-cols-12 gap-6">
        <!-- Sidebar Navigation -->
        <aside class="lg:col-span-2 order-2 lg:order-1">
            <div id="day-list" class="flex lg:flex-col gap-2 overflow-x-auto lg:overflow-y-auto lg:sticky lg:top-8 pb-4 lg:pb-0 pr-2"></div>
        </aside>

        <!-- Main Content Area -->
        <section class="lg:col-span-10 order-1 lg:order-2">
            <div id="day-detail-view" class="nouveau-border p-5 md:p-10 shadow-xl min-h-[600px]"></div>
        </section>
    </main>

    <script>
        // Использование CDN с корректным путем и протоколом HTTPS
        const GITHUB_BASE_URL = `https://raw.githubusercontent.com/bmai42195/Alsace-Lorraine/main/images/`;
        let currentDayId = 1;

        const foodIcons = {
            wine: `<svg class="gastronomy-icon" viewBox="0 0 24 24"><path d="M12,2C12,2 10,4 10,6.5C10,9 12,11 12,11C12,11 14,9 14,6.5C14,4 12,2 12,2M7.5,13C5.57,13 4,14.57 4,16.5C4,18.83 6.33,21 7.5,22C8.67,21 11,18.83 11,16.5C11,14.57 9.43,13 7.5,13M16.5,13C14.57,13 13,14.57 13,16.5C13,18.83 15.33,21 16.5,22C17.67,21 20,18.83 20,16.5C20,14.57 18.43,13 16.5,13Z"/></svg>`,
            food: `<svg class="gastronomy-icon" viewBox="0 0 24 24"><path d="M11,9H9V2H7V9H5V2H3V9C3,11.12 4.66,12.84 6.75,12.97V22H9.25V12.97C11.34,12.84 13,11.12 13,9V2H11V9M16,6V14H18.5V22H21V2H16C16,4.21 16,6 16,6Z"/></svg>`,
            sweet: `<svg class="gastronomy-icon" viewBox="0 0 24 24"><path d="M12,2C8.13,2 5,5.13 5,9C5,12.38 7.39,15.21 10.5,15.82V19.5H8.5V21.5H15.5V19.5H13.5V15.82C16.61,15.21 19,12.38 19,9C19,5.13 15.87,2 12,2M12,14C9.24,14 7,11.76 7,9C7,6.24 9.24,4 12,4C14.76,4 17,6.24 17,9C17,11.76 14.76,14 12,14Z"/></svg>`
        };

        const itineraryData = [
            { 
                id: 1, imgNum: 121, date: "20 марта", title: "Эпфиг: Романское Наследие", 
                history: "Путешествие начинается в Эпфиге, одной из старейших винодельческих деревень региона. Это место хранит в себе тишину веков и строгость романской архитектуры.", 
                points: [
                    {name: "Chapelle Sainte-Marguerite", details: "Настоящая жемчужина XI века. Эта часовня уникальна тем, что она практически не перестраивалась. Внутри вы найдете строгие каменные своды и капители, украшенные символами раннего христианства."},
                    {name: "Путь римских легионеров", details: "Эпфиг расположен на древней дороге 'Voie Romaine'. Окрестности пропитаны историей — здесь находили артефакты времен империи."},
                    {name: "Архитектурные ансамбли", details: "Деревня славится своими дворами с порталами XVII века. Каменные арки ведут в закрытые пространства, где время словно замерло."}
                ], 
                gastronomy: [
                    {icon: 'wine', name: "Klevener de Heiligenstein", desc: "Редкий сорт вина."},
                    {icon: 'food', name: "Auberge de la Couronne", desc: "Утка по-эльзасски."}
                ], 
                shopping: "Вино Klevener прямо с погреба."
            },
            { 
                id: 2, imgNum: 2, date: "21 марта", title: "Страсбург: Имперский Масштаб", 
                history: "Столица Эльзаса, город, где европейская дипломатия встречается с мистикой средневековья. Гранд-Иль — это остров-музей.", 
                points: [
                    {name: "Собор Нотр-Дам: Розовая Готика", details: "Высота шпиля в 142 метра делала его самым высоким зданием мира на протяжении веков. Посмотрите на скульптурные группы фасада — это библия для неграмотных."},
                    {name: "Дворец Роганов", details: "Резиденция принцев-епископов. Архитектура дворца — апогей французского классицизма в Эльзасе."},
                    {name: "Квартал Гетценбрюк", details: "Часть города с неоренессансными фасадами, отражающими богатство Страсбурга конца XIX века."}
                ], 
                gastronomy: [
                    {icon: 'food', name: "Maison Kammerzell", desc: "Шукрут из рыб."},
                    {icon: 'sweet', name: "Pain d'épices", desc: "Имбирный пряник."}
                ], 
                shopping: "Текстиль Kelsch, фуа-гра."
            },
            { 
                id: 3, imgNum: 3, date: "22 марта", title: "Оберне и Верхний Кенигсбург", 
                history: "Переход от укрепленной мощи горного замка к утонченности эльзасского ренессанса в Оберне.", 
                points: [
                    {name: "Замок Haut-Koenigsbourg", details: "Крепость XII века, возрожденная кайзером. Это учебник по фортификации: от подъемных мостов до огромных залов."},
                    {name: "Оберне: Ренессанс", details: "Колодец шести ведер — вершина мастерства эпохи Возрождения. Обратите внимание на Ратушу с ее балконами."},
                    {name: "Церковь Св. Петра и Павла", details: "Грандиозное сооружение XIX века с богатейшим неоготическим убранством."}
                ], 
                gastronomy: [
                    {icon: 'wine', name: "Riesling Grand Cru", desc: "Белое золото Оберне."},
                    {icon: 'food', name: "Baeckeoffe", desc: "Мясо в горшке."}
                ], 
                shopping: "Керамика из Оберне."
            },
            { 
                id: 4, imgNum: 4, date: "23 марта", title: "Нанси: Эпоха Модерна", 
                history: "Нанси — колыбель Школы Нанси (École de Nancy), где природа стала главным источником вдохновения.", 
                points: [
                    {name: "Площадь Станислава", details: "Золоченые решетки работы Жана Ламура символизируют триумф просвещенного монарха."},
                    {name: "Вилла Мажорель", details: "Первый пример тотального Арт-нуво в жилой архитектуре. Здесь всё вдохновлено формами растений."},
                    {name: "Музей Школы Нанси", details: "Пространство, где можно увидеть шедевры Эмиля Галле и братьев Даум."}
                ], 
                gastronomy: [
                    {icon: 'sweet', name: "Macarons de Nancy", desc: "Миндальное печенье."},
                    {icon: 'food', name: "Quiche Lorraine", desc: "Лотарингский пирог."}
                ], 
                shopping: "Хрусталь Baccarat или Daum."
            },
            { 
                id: 5, imgNum: 5, date: "24 марта", title: "Кольмар: Город Мастеров", 
                history: "Кольмар — это квинтэссенция Эльзаса. Город, сохранивший дух позднего средневековья.", 
                points: [
                    {name: "Холандсбург", details: "Крепость с огромной территорией и Ботаническим садом внутри стен."},
                    {name: "Музей Унтерлинден", details: "Здесь находится Изенгеймский алтарь — шедевр мирового искусства."},
                    {name: "Дом Голов", details: "Рассмотрите 106 скульптурных голов на фасаде Maison des Têtes."}
                ], 
                gastronomy: [], 
                shopping: "",
                isColmar: true 
            },
            { 
                id: 7, imgNum: 6, date: "26 марта", title: "Мец: Свет и Камень", 
                history: "Мец — город контрастов: от массивной немецкой застройки до легкости готических соборов.", 
                points: [
                    {name: "Собор Сент-Этьен", details: "6500 квадратных метров цветного стекла. Витражи Шагала соседствуют с мастерами XIII века."},
                    {name: "Центр Помпиду-Мец", details: "Здание с уникальной крышей из 18 километров клееного бруса."},
                    {name: "Имперский квартал", details: "Железнодорожный вокзал Меца выглядит как замок немецкого неоромантизма."}
                ], 
                gastronomy: [
                    {icon: 'sweet', name: "Mirabelle de Lorraine", desc: "Джем или ликер."},
                    {icon: 'food', name: "Pâté Lorrain", desc: "Мясной пирог."}
                ], 
                shopping: "Продукты из мирабели."
            },
            { 
                id: 9, imgNum: 8, date: "28 марта", title: "Мон-Сент-Одиль: Мистика Гор", 
                history: "Священная гора, где история христианства накладывается на мегалитические загадки древности.", 
                points: [
                    {name: "Монастырский комплекс", details: "Действующее аббатство с террасами, висящими над пропастью."},
                    {name: "Языческая стена", details: "Сооружение длиной 10 км, состоящее из 300 000 каменных блоков."},
                    {name: "Скала святой Одилии", details: "Место силы, откуда в ясную погоду виден Страсбургский собор."}
                ], 
                gastronomy: [
                    {icon: 'food', name: "Kouglof", desc: "Кекс."},
                    {icon: 'wine', name: "Pinot Noir d'Alsace", desc: "Красное вино."}
                ], 
                shopping: "Освященное печенье."
            },
            { 
                id: 10, imgNum: 11, date: "29 марта", title: "Генгенбах: Шварцвальдский Финал", 
                history: "Завершение пути в идеальном немецком городке, похожем на иллюстрацию к сказкам.", 
                points: [
                    {name: "Ратуша", details: "Здание XVIII века с 24 окнами, которые превращаются в календарь."},
                    {name: "Улица Ангелов", details: "Узкий переулок с безупречно сохранившимися домами XVI века."},
                    {name: "Старые ворота", details: "Кинцигтор и Верхние ворота охраняют въезд в город."}
                ], 
                gastronomy: [
                    {icon: 'sweet', name: "Schwarzwälder Kirschtorte", desc: "Торт 'Шварцвальд'."},
                    {icon: 'food', name: "Maultaschen", desc: "Швабские пельмени."}
                ], 
                shopping: "Часы с кукушкой."
            }
        ];

        function handleImgError(img, title) {
            img.style.display = 'none';
            const container = img.parentElement;
            container.innerHTML = `<div class="p-4 text-center text-art-gold font-bold italic">${title}</div>`;
        }

        function renderDayList() {
            const list = document.getElementById('day-list');
            list.innerHTML = '';
            itineraryData.forEach((day) => {
                const isActive = day.id === currentDayId;
                const div = document.createElement('div');
                div.className = `p-3 cursor-pointer transition-all border-b border-art-gold/10 flex-shrink-0 min-w-[120px] lg:min-w-0 ${isActive ? 'active-day shadow-md' : 'hover:bg-art-gold/5'}`;
                div.onclick = () => { currentDayId = day.id; renderDayList(); renderDayDetail(); };
                div.innerHTML = `<span class="text-[9px] block uppercase opacity-60">${day.date}</span><span class="text-xs nouveau-font font-bold">${day.title}</span>`;
                list.appendChild(div);
            });
        }

        function renderDayDetail() {
            const day = itineraryData.find(d => d.id === currentDayId);
            if (!day) return;
            const view = document.getElementById('day-detail-view');
            const showSide = !day.isColmar;

            view.innerHTML = `
                <div class="animate-fadeIn">
                    <div class="text-center mb-6">
                        <h2 class="text-2xl md:text-4xl text-art-wine">${day.title}</h2>
                        <div class="h-px bg-art-gold w-24 mx-auto my-2"></div>
                    </div>

                    <div class="img-container">
                        <img 
                            src="${GITHUB_BASE_URL}${day.imgNum}.jpg" 
                            class="w-full h-full object-cover" 
                            alt="${day.title}"
                            onerror="handleImgError(this, '${day.title}')"
                        >
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8">
                        <div class="${showSide ? 'lg:col-span-10' : 'lg:col-span-12'} space-y-6 lg:space-y-8">
                            <section>
                                <h4 class="text-lg lg:text-xl text-art-dark border-b border-art-gold/30 pb-1 mb-3 uppercase tracking-widest text-[10px] lg:text-[12px] font-bold">Хроника</h4>
                                <p class="heritage-text italic text-md lg:text-lg text-art-dark/80 bg-art-gold/5 p-4 rounded-sm border-l-2 border-art-gold">${day.history}</p>
                            </section>

                            <section>
                                <h4 class="text-lg lg:text-xl text-art-dark border-b border-art-gold/30 pb-1 mb-4 uppercase tracking-widest text-[10px] lg:text-[12px] font-bold">Наследие</h4>
                                <div class="grid md:grid-cols-2 gap-x-8 gap-y-4 lg:gap-y-6">
                                    ${day.points.map(p => `
                                        <div>
                                            <h5 class="text-art-wine font-bold text-md mb-1 italic">❦ ${p.name}</h5>
                                            <p class="heritage-text text-sm text-gray-700">${p.details}</p>
                                        </div>
                                    `).join('')}
                                </div>
                            </section>
                        </div>

                        ${showSide ? `
                        <div class="lg:col-span-2 space-y-6 border-l-0 lg:border-l border-art-gold/20 pt-6 lg:pt-0 lg:pl-4">
                            <div class="flex lg:flex-col gap-4 lg:gap-6 overflow-x-auto lg:overflow-x-visible">
                                <div class="min-w-[100px] lg:min-w-0">
                                    <h4 class="text-[10px] font-bold uppercase tracking-tighter text-art-gold mb-3">Вкусы</h4>
                                    <div class="flex lg:flex-col gap-3">
                                        ${day.gastronomy.map(g => `
                                            <div class="text-center lg:mb-4">
                                                <div class="flex justify-center">${foodIcons[g.icon]}</div>
                                                <p class="text-[10px] font-bold leading-tight">${g.name}</p>
                                                <p class="text-[8px] italic text-gray-500">${g.desc}</p>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                                <div class="min-w-[100px] lg:min-w-0 pt-0 lg:pt-4 border-l lg:border-l-0 lg:border-t border-art-gold/20 pl-4 lg:pl-0">
                                    <h4 class="text-[10px] font-bold uppercase tracking-tighter text-art-gold mb-2">Лавки</h4>
                                    <p class="text-[10px] italic leading-tight text-gray-700">❧ ${day.shopping}</p>
                                </div>
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;
            // Плавная прокрутка к началу контента при смене дня
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        window.onload = () => { renderDayList(); renderDayDetail(); };
    </script>
</body>
</html>
